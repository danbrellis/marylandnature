{"version":3,"sources":["jquery.fittext.js","gridme.js","init-foundation.js","nhsm.js","wp-foundation.js","iframeResizer.js"],"names":["$","fn","fitText","kompressor","options","compressor","settings","extend","minFontSize","Number","NEGATIVE_INFINITY","maxFontSize","POSITIVE_INFINITY","this","each","$this","resizer","css","Math","max","min","width","parseFloat","setTimeout","window","on","jQuery","document","ready","gridme","maxHeight","height","innerHeight","promise","done","length","resize","foundation","inViewport","$el","elH","outerHeight","H","r","getBoundingClientRect","t","top","b","bottom","set_icon_width","h","lineHeight","hasClass","texp","find","animate_scrolling_words","elem","next_elem","next","$cont","children","Foundation","Motion","animateOut","animateIn","cont_width","apply","map","get","windowwidth","marginLeft","onresize","searchHandler","searchModal","e","stopPropagation","preventDefault","cal","fullCalendar","event","element","view","console","log","appendToTitle","after","dropdownPane","id","tooltip","attr","closest","eventLimit","header","left","center","right","navLinks","eventSources","url","fc","endpoint","type","color","data","start","end","cats","cat_ids","topics","error","alert","eventRender","eventAfterRender","eventAfterAllRender","eventClick","calEvent","jsEvent","iFrameResize","checkOrigin","remove","last","addClass","innerWidth","wrap","undefined","addEventListener","obj","evt","func","attachEvent","removeEventListener","el","detachEvent","setupRequestAnimationFrame","x","vendors","requestAnimationFrame","getMyID","iframeId","retStr","self","parentIFrame","getId","formatLogHeader","msgId","isLogEnabled","logEnabled","msg","output","info","warn","enabled","iFrameListener","resizeIFrame","setSize","messageData","setPagePosition","callback","ensureInRange","syncResize","processMsg","substr","msgIdLen","split","iframe","Dimension","dimension","toLowerCase","size","isMessageFromIFrame","checkAllowedOrigin","checkList","i","retCode","origin","checkSingle","remoteHost","constructor","Array","Error","isMessageForUs","isMessageFromMetaParent","true","false","getMsgBody","offset","indexOf","msgHeaderLen","forwardMsgFromIFrame","msgBody","message","JSON","parse","getPageInfo","bodyPosition","body","iFramePosition","stringify","iframeHeight","iframeWidth","clientHeight","documentElement","clientWidth","offsetTop","parseInt","offsetLeft","scrollTop","pageYOffset","scrollLeft","pageXOffset","sendPageInfoToIframe","debouncedTrigger","trigger","debouce","startPageInfoMonitor","setListener","sendPageInfo","stop","forEach","stopPageInfo","stopPageInfoMonitor","checkIFrameExists","retBool","getElementPosition","target","getPagePosition","floor","pagePosition","y","scrollRequestFromChild","addOffset","reposition","newPosition","scrollTo","calcOffset","scrollParent","unsetPagePosition","findTarget","location","jumpToTarget","jumpPosition","hash","jumpToParent","moveToAnchor","hashData","decodeURIComponent","getElementById","getElementsByName","funcName","val","chkCallback","actionMsg","firstRun","closeIFrame","resetIFrame","hasSettings","iFrameReadyMsgReceived","createOutgoingMsg","logId","loaded","retVal","TypeError","parentNode","removeChild","reset","setDimension","style","chkZero","hiddenCheckEnabled","fixHiddenIFrames","processDimension","sizeHeight","sizeWidth","doNotSync","calleeMsg","noResponseWarning","postMessageToIFrame","targetOrigin","contentWindow","postMessage","iFrameNotFound","chkAndSend","warnOnNoResponse","warning","errorShown","warningTimeout","msgTimeout","bodyMarginV1","interval","enablePublicMethods","autoResize","bodyMargin","heightCalculationMethod","bodyBackground","bodyPadding","tolerance","inPageLinks","resizeFrom","widthCalculationMethod","setupIFrame","setLimits","addStyle","Infinity","chkMinMax","newId","defaults","count","ensureHasId","src","setScrolling","scrolling","overflow","setupBodyMarginValues","checkReset","resetRequertMethod","resetRequiredMethods","setupIFrameObject","Function","prototype","bind","iFrameResizer","close","anchor","sendMessage","init","iFrameLoaded","checkOptions","copyOptions","option","hasOwnProperty","getTargetOrigin","processOptions","slice","join","beenHere","time","timer","checkIFrames","checkIFrame","settingId","chkDimension","isVisible","offsetParent","mutationObserved","mutations","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","MutationObserver","observe","WebKitMutationObserver","resizeIFrames","sendTriggerMsg","tabVisible","visibilityState","eventName","isIFrameResizeEnabled","setupEventListeners","factory","chkType","tagName","toUpperCase","iFrames","push","warnDeprecatedOptions","call","querySelectorAll","createJQueryPublicMethod","index","filter","msgHeader","scroll","bodyScroll","documentElementScroll","maxWidth","minHeight","minWidth","closedCallback","initCallback","messageCallback","resizedCallback","scrollCallback","define","amd","module","exports"],"mappings":"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","file":"scripts.min.js","sourcesContent":["/*global jQuery */\r\n/*!\r\n* FitText.js 1.2\r\n*\r\n* Copyright 2011, Dave Rupert http://daverupert.com\r\n* Released under the WTFPL license\r\n* http://sam.zoy.org/wtfpl/\r\n*\r\n* Date: Thu May 05 14:23:00 2011 -0600\r\n*/\r\n\r\n(function( $ ){\r\n\r\n  $.fn.fitText = function( kompressor, options ) {\r\n\r\n    // Setup options\r\n    var compressor = kompressor || 1,\r\n        settings = $.extend({\r\n          'minFontSize' : Number.NEGATIVE_INFINITY,\r\n          'maxFontSize' : Number.POSITIVE_INFINITY\r\n        }, options);\r\n\r\n    return this.each(function(){\r\n\r\n      // Store the object\r\n      var $this = $(this);\r\n\t\t\t\r\n      // Resizer() resizes items based on the object width divided by the compressor * 10\r\n      var resizer = function () {\r\n\t\t\t\t//console.log($this.width());\r\n        $this.css('font-size', Math.max(Math.min($this.width() / (compressor*10), parseFloat(settings.maxFontSize)), parseFloat(settings.minFontSize)));\r\n      };\r\n\r\n      // Call once to set.\r\n      //resizer();\r\n\t\t\tsetTimeout(resizer, 1000);\r\n\r\n      // Call on resize. Opera debounces their resize by default.\r\n      $(window).on('resize.fittext orientationchange.fittext', resizer);\r\n\r\n    });\r\n\r\n  };\r\n\r\n})( jQuery );\r\n","// JavaScript Document\r\n//to use, add .gridme class to any elements you want to shape into an even grid.\r\n\r\njQuery(document).ready(function( $ ) {\r\n\t\"use strict\";\r\n\r\n\tif($(\".gridme\").length){\r\n\t\t$(window).on(\"load\", function() {\r\n\t\t\tgridme();\r\n\t\t});\r\n\t\t$( window ).resize(function() {\r\n\t\t\tgridme();\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction gridme() {\r\n\t\tvar maxHeight = -1;\r\n\t\r\n\t\t$('.gridme').each(function() {\r\n\t\t\t$(this).height(''); //clear any styled heights\r\n\t\t\tmaxHeight = maxHeight > $(this).innerHeight() ? maxHeight : $(this).innerHeight();\r\n\t\t});\r\n\t\t\r\n\t\t$('.gridme').promise().done(function() {\r\n\t\t\t$('.gridme').height(maxHeight);\r\n\t\t});\r\n\t}\r\n\t\r\n});\r\n","jQuery(document).foundation();","// JavaScript Document\r\n\r\n(function( $ ) {\r\n\t\r\n\t\"use strict\";\r\n\t\r\n\t//FitText on homepage\r\n\tif ($(\"body\").hasClass(\"home\") && $(\".collection\").length) {\r\n\t\t$(\".collection-info .collector\").fitText(1.2, { minFontSize: '10px', maxFontSize: '18px' });\r\n\t\t$(\".collection-info .collection-title\").fitText(1.2, { minFontSize: '14px', maxFontSize: '24px' });\r\n\t}\r\n\t\r\n\t//FitText on pages with .team-card\r\n\tif ($(\".team-card\").length) {\r\n\t\t$('.team-card').each(function(){\r\n\t\t\tvar texp = $(this).find(\".team-excerpt p\");\r\n\t\t\t$(this).on('hover', function(){\r\n\t\t\t\ttexp.css('font-size', Math.max(Math.min(texp.width() / (1.2*10), parseFloat(16)), parseFloat(10)));\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t\ttexp.fitText(1.2, { minFontSize: '10px', maxFontSize: '16px' });\r\n\t\t\t\r\n\t\t\t//console.log(texp.closest('.card-section'), texp.closest('.card-section').outerHeight());\r\n\t\t\t//texp.css('margin-top', (texp.closest('.card-section').height() - texp.height)/2);\r\n\t\t});\r\n\t}\r\n\t\r\n\t//Motion UI on Homepage\r\n\t//Motion UI\tconsole.log(Foundation.Motion.animateOut);\r\n\t(function nshm_homepage_mui(){\r\n\t\t\r\n\t\tfunction animate_scrolling_words(elem){\r\n\t\t\tvar next_elem;\r\n\t\t\tif(elem.next().length === 1){\r\n\t\t\t\tnext_elem = elem.next();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tnext_elem = $cont.children(\":first\");\r\n\t\t\t}\r\n\r\n\t\t\tif(inViewport($cont)){\r\n\t\t\t\tFoundation.Motion.animateOut(elem, 'slideUpAndOut', function() {\r\n\t\t\t\t\t//console.log(\"'\" + elem.text() + \"': out\");\r\n\t\t\t\t});\r\n\t\t\t\tFoundation.Motion.animateIn(next_elem, 'slideUpAndIn', function(){\r\n\t\t\t\t\t//console.log(\"'\" + next_elem.text() + \"': in\");\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tanimate_scrolling_words(next_elem);\r\n\t\t\t\t\t}, 3000);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tanimate_scrolling_words(elem);\r\n\t\t\t\t}, 3000);\r\n\t\t\t}\r\n\t\t}\r\n\r\n    var $cont = $('.nhsm_scrolling_words');\r\n\t\t\r\n\t\tif($cont.length){\r\n\t\t\tvar cont_width = Math.max.apply(\r\n\t\t\t\tMath,\r\n\t\t\t\t$cont.children().map(function(){ \r\n\t\t\t\t\treturn $(this).width();\r\n\t\t\t\t}).get()\r\n\t\t\t);\r\n\t\t\t$cont.width(cont_width);\r\n\t\t\t//console.log(cont_width);\r\n\t\t\t$cont.children('li').css('width', cont_width);\r\n\r\n\t\t\tanimate_scrolling_words($cont.children(\":first\"));\r\n\t\t}\r\n\r\n\t}()); //auto-run\r\n\t\r\n\t//InViewport Plugin\r\n\t//thanks to http://stackoverflow.com/questions/24768795/get-the-visible-height-of-a-div-with-jquery/26831113#26831113\r\n\tfunction inViewport($el) {\r\n    var elH = $el.outerHeight(),\r\n        H   = $(window).height(),\r\n        r   = $el[0].getBoundingClientRect(), t=r.top, b=r.bottom;\r\n    return Math.max(0, t>0? Math.min(elH, H-t) : (b<H?b:H));\r\n\t}\r\n\t\r\n\t//Make map with .so-widget-sow-google-map full width\r\n\tvar map = $(\".so-widget-sow-google-map\");\r\n\tvar windowwidth = $(window).width();\r\n\tmap.css({\r\n\t\twidth: windowwidth,\r\n\t\tmarginLeft: -((windowwidth - map.width()) / 2)\r\n\t});\r\n\t\r\n\t\r\n\t//set icon width based on height\r\n\tfunction set_icon_width(){\r\n\t\tif($('.nhsm-icon').length) {\r\n\t\t\t$('.nhsm-icon').each(function(){\r\n\t\t\t\tvar h = $(this).height();\r\n\t\t\t\t$(this).css({width:h, height: h, lineHeight: h+1+\"px\"});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tset_icon_width();\r\n\twindow.onresize = function() {\r\n\t\tset_icon_width();\r\n\t};\r\n\t\r\n\r\n})(jQuery);\r\n\r\njQuery( document ).ready( function( $ ) {\r\n\t\"use strict\";\r\n\t\r\n\t//Add search modal\r\n\tif($('.search-handler').length){\r\n\t\tvar searchHandler = $('.search-handler a');\r\n\t\tvar searchModal = $('#search-modal');\r\n\t\t\r\n\t\tsearchHandler.on('click', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\tsearchModal.foundation('open');\r\n\t\t});\r\n\t}\r\n\t\r\n\t//Full calendar JS functions\r\n\tif($('#events-full-calendar').length){\r\n\t\tvar cal = $('#events-full-calendar').fullCalendar('getCalendar');\r\n\r\n\t\tcal.on('eventRender', function( event, element, view ) {\r\n\t\t\tconsole.log(event);\r\n\t\t\tif(event.appendToTitle !== false){\r\n\t\t\t\telement.find('.fc-content').after(event.appendToTitle);\r\n\t\t\t}\r\n\t\t});\r\n\t\tcal.on('eventAfterRender', function(event, element, view) {\r\n\t\t\t//$(document).foundation();\r\n\r\n\t\t\t//add dropdown pane\r\n\t\t\tvar dropdownPane = '<div class=\"dropdown-pane top large\" id=\"dropdown'+event.id+'\" data-dropdown data-auto-focus=\"true\"><button class=\"close-button\" aria-label=\"Close event details\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>'+event.tooltip+'</div>';\r\n\t\t\t$(\"#events-full-calendar\").after( $(dropdownPane) );\r\n\t\t\telement.attr('data-toggle', 'dropdown'+event.id);\r\n\t\t});\r\n\t\tcal.on('eventAfterAllRender', function(view){\r\n\t\t\t$(document).foundation();\r\n\t\t\t$('.dropdown-pane .close-button').on('click', function(){\r\n\t\t\t\t$(this).closest('.dropdown-pane').foundation('close');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\t\t$('#events-full-calendar').fullCalendar('rerenderEvents');\r\n\t\t});\r\n\t}\r\n\r\n\tif($('#calendar').length){\r\n\t\t$('#calendar').fullCalendar({\r\n\t\t\teventLimit: true,\r\n\t\t\theader: {\r\n\t\t\t\tleft: 'prev,next today',\r\n\t\t\t\tcenter: 'title',\r\n\t\t\t\tright: 'month,agendaWeek,agendaDay,listWeek'\r\n\t\t\t},\r\n\t\t\tnavLinks: true,\r\n\t\t\teventSources: [\r\n\t\t\t\t{\r\n\t\t\t\t\turl: fc.endpoint,\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tcolor: '#666666',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tstart: fc.start,\r\n\t\t\t\t\t\tend: fc.end,\r\n\t\t\t\t\t\tcats: fc.cat_ids,\r\n\t\t\t\t\t\ttopics: fc.topics\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function() {\r\n\t\t\t\t\t\talert('there was an error while fetching events!');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\teventRender: function( event, element, view ) {\r\n\t\t\t\tif(event.appendToTitle !== false)\r\n\t\t\t\t\telement.find('.fc-content').after(event.appendToTitle); \r\n\t\t\t},\r\n\t\t\teventAfterRender: function(event, element, view) {\r\n\t\t\t\t//$(document).foundation();\r\n\r\n\t\t\t\t//add dropdown pane\r\n\t\t\t\tvar dropdownPane = '<div class=\"dropdown-pane top large\" id=\"dropdown'+event.id+'\" data-dropdown data-auto-focus=\"true\"><button class=\"close-button\" aria-label=\"Close event details\" type=\"button\"><span aria-hidden=\"true\">&times;</span></button>'+event.tooltip+'</div>';\r\n\t\t\t\t$(\"#calendar\").after( $(dropdownPane) );\r\n\t\t\t\telement.attr('data-toggle', 'dropdown'+event.id);\r\n\t\t\t},\r\n\t\t\teventAfterAllRender: function(view){\r\n\t\t\t\t$(document).foundation();\r\n\t\t\t\t$('.dropdown-pane .close-button').on('click', function(){\r\n\t\t\t\t\t$(this).closest('.dropdown-pane').foundation('close');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\teventClick: function(calEvent, jsEvent, view) {\r\n\t\t\t\t//jsEvent.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t//Cross domain iframe height (used for wildapricot widgets)\r\n\tif ($(\".wildapricotframe\").length){\r\n\t\t$('.wildapricotframe').iFrameResize( [{'checkOrigin': false, 'log': true}] );\r\n  }\r\n\t\r\n});","/*\nThese functions make sure WordPress\nand Foundation play nice together.\n*/\n\njQuery(document).ready(function() {\n\n    // Remove empty P tags created by WP inside of Accordion and Orbit\n    jQuery('.accordion p:empty, .orbit p:empty').remove();\n\n\t // Makes sure last grid item floats left\n\tjQuery('.archive-grid .columns').last().addClass( 'end' );\n\n\t// Adds Flex Video to YouTube and Vimeo Embeds\n  jQuery('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\n    if ( jQuery(this).innerWidth() / jQuery(this).innerHeight() > 1.5 ) {\n      jQuery(this).wrap(\"<div class='widescreen flex-video'/>\");\n    } else {\n      jQuery(this).wrap(\"<div class='flex-video'/>\");\n    }\n  });\n\n});\n","/*\n * File: iframeResizer.js\n * Desc: Force iframes to size to content.\n * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Reed Dadoune - reed@dadoune.com\n */\n\n\n;(function(undefined) {\n\t'use strict';\n\n\tif(typeof window === 'undefined') return; // don't run for server side render\n\n\tvar\n\t\tcount                 = 0,\n\t\tlogEnabled            = false,\n\t\thiddenCheckEnabled    = false,\n\t\tmsgHeader             = 'message',\n\t\tmsgHeaderLen          = msgHeader.length,\n\t\tmsgId                 = '[iFrameSizer]', //Must match iframe msg ID\n\t\tmsgIdLen              = msgId.length,\n\t\tpagePosition          = null,\n\t\trequestAnimationFrame = window.requestAnimationFrame,\n\t\tresetRequiredMethods  = {max:1,scroll:1,bodyScroll:1,documentElementScroll:1},\n\t\tsettings              = {},\n\t\ttimer                 = null,\n\t\tlogId                 = 'Host Page',\n\n\t\tdefaults              = {\n\t\t\tautoResize                : true,\n\t\t\tbodyBackground            : null,\n\t\t\tbodyMargin                : null,\n\t\t\tbodyMarginV1              : 8,\n\t\t\tbodyPadding               : null,\n\t\t\tcheckOrigin               : true,\n\t\t\tinPageLinks               : false,\n\t\t\tenablePublicMethods       : true,\n\t\t\theightCalculationMethod   : 'bodyOffset',\n\t\t\tid                        : 'iFrameResizer',\n\t\t\tinterval                  : 32,\n\t\t\tlog                       : false,\n\t\t\tmaxHeight                 : Infinity,\n\t\t\tmaxWidth                  : Infinity,\n\t\t\tminHeight                 : 0,\n\t\t\tminWidth                  : 0,\n\t\t\tresizeFrom                : 'parent',\n\t\t\tscrolling                 : false,\n\t\t\tsizeHeight                : true,\n\t\t\tsizeWidth                 : false,\n\t\t\twarningTimeout            : 5000,\n\t\t\ttolerance                 : 0,\n\t\t\twidthCalculationMethod    : 'scroll',\n\t\t\tclosedCallback            : function(){},\n\t\t\tinitCallback              : function(){},\n\t\t\tmessageCallback           : function(){warn('MessageCallback function not defined');},\n\t\t\tresizedCallback           : function(){},\n\t\t\tscrollCallback            : function(){return true;}\n\t\t};\n\n\tfunction addEventListener(obj,evt,func){\n\t\t/* istanbul ignore else */ // Not testable in PhantonJS\n\t\tif ('addEventListener' in window){\n\t\t\tobj.addEventListener(evt,func, false);\n\t\t} else if ('attachEvent' in window){//IE\n\t\t\tobj.attachEvent('on'+evt,func);\n\t\t}\n\t}\n\n\tfunction removeEventListener(el,evt,func){\n\t\t/* istanbul ignore else */ // Not testable in phantonJS\n\t\tif ('removeEventListener' in window){\n\t\t\tel.removeEventListener(evt,func, false);\n\t\t} else if ('detachEvent' in window){ //IE\n\t\t\tel.detachEvent('on'+evt,func);\n\t\t}\n\t}\n\n\tfunction setupRequestAnimationFrame(){\n\t\tvar\n\t\t\tvendors = ['moz', 'webkit', 'o', 'ms'],\n\t\t\tx;\n\n\t\t// Remove vendor prefixing if prefixed and break early if not\n\t\tfor (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n\t\t\trequestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t\t}\n\n\t\tif (!(requestAnimationFrame)){\n\t\t\tlog('setup','RequestAnimationFrame not supported');\n\t\t}\n\t}\n\n\tfunction getMyID(iframeId){\n\t\tvar retStr = 'Host page: '+iframeId;\n\n\t\tif (window.top !== window.self){\n\t\t\tif (window.parentIFrame && window.parentIFrame.getId){\n\t\t\t\tretStr = window.parentIFrame.getId()+': '+iframeId;\n\t\t\t} else {\n\t\t\t\tretStr = 'Nested host page: '+iframeId;\n\t\t\t}\n\t\t}\n\n\t\treturn retStr;\n\t}\n\n\tfunction formatLogHeader(iframeId){\n\t\treturn msgId + '[' + getMyID(iframeId) + ']';\n\t}\n\n\tfunction isLogEnabled(iframeId){\n\t\treturn settings[iframeId] ? settings[iframeId].log : logEnabled;\n\t}\n\n\tfunction log(iframeId,msg){\n\t\toutput('log',iframeId,msg,isLogEnabled(iframeId));\n\t}\n\n\tfunction info(iframeId,msg){\n\t\toutput('info',iframeId,msg,isLogEnabled(iframeId));\n\t}\n\n\tfunction warn(iframeId,msg){\n\t\toutput('warn',iframeId,msg,true);\n\t}\n\n\tfunction output(type,iframeId,msg,enabled){\n\t\tif (true === enabled && 'object' === typeof window.console){\n\t\t\tconsole[type](formatLogHeader(iframeId),msg);\n\t\t}\n\t}\n\n\tfunction iFrameListener(event){\n\t\tfunction resizeIFrame(){\n\t\t\tfunction resize(){\n\t\t\t\tsetSize(messageData);\n\t\t\t\tsetPagePosition(iframeId);\n\t\t\t\tcallback('resizedCallback',messageData);\n\t\t\t}\n\n\t\t\tensureInRange('Height');\n\t\t\tensureInRange('Width');\n\n\t\t\tsyncResize(resize,messageData,'init');\n\t\t}\n\n\t\tfunction processMsg(){\n\t\t\tvar data = msg.substr(msgIdLen).split(':');\n\n\t\t\treturn {\n\t\t\t\tiframe: settings[data[0]].iframe,\n\t\t\t\tid:     data[0],\n\t\t\t\theight: data[1],\n\t\t\t\twidth:  data[2],\n\t\t\t\ttype:   data[3]\n\t\t\t};\n\t\t}\n\n\t\tfunction ensureInRange(Dimension){\n\t\t\tvar\n\t\t\t\tmax  = Number(settings[iframeId]['max' + Dimension]),\n\t\t\t\tmin  = Number(settings[iframeId]['min' + Dimension]),\n\t\t\t\tdimension = Dimension.toLowerCase(),\n\t\t\t\tsize = Number(messageData[dimension]);\n\n\t\t\tlog(iframeId,'Checking ' + dimension + ' is in range ' + min + '-' + max);\n\n\t\t\tif (size<min) {\n\t\t\t\tsize=min;\n\t\t\t\tlog(iframeId,'Set ' + dimension + ' to min value');\n\t\t\t}\n\n\t\t\tif (size>max) {\n\t\t\t\tsize=max;\n\t\t\t\tlog(iframeId,'Set ' + dimension + ' to max value');\n\t\t\t}\n\n\t\t\tmessageData[dimension] = '' + size;\n\t\t}\n\n\n\t\tfunction isMessageFromIFrame(){\n\t\t\tfunction checkAllowedOrigin(){\n\t\t\t\tfunction checkList(){\n\t\t\t\t\tvar\n\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\tretCode = false;\n\n\t\t\t\t\tlog(iframeId,'Checking connection is from allowed list of origins: ' + checkOrigin);\n\n\t\t\t\t\tfor (; i < checkOrigin.length; i++) {\n\t\t\t\t\t\tif (checkOrigin[i] === origin) {\n\t\t\t\t\t\t\tretCode = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn retCode;\n\t\t\t\t}\n\n\t\t\t\tfunction checkSingle(){\n\t\t\t\t\tvar remoteHost  = settings[iframeId].remoteHost;\n\t\t\t\t\tlog(iframeId,'Checking connection is from: '+remoteHost);\n\t\t\t\t\treturn origin === remoteHost;\n\t\t\t\t}\n\n\t\t\t\treturn checkOrigin.constructor === Array ? checkList() : checkSingle();\n\t\t\t}\n\n\t\t\tvar\n\t\t\t\torigin      = event.origin,\n\t\t\t\tcheckOrigin = settings[iframeId].checkOrigin;\n\n\t\t\tif (checkOrigin && (''+origin !== 'null') && !checkAllowedOrigin()) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Unexpected message received from: ' + origin +\n\t\t\t\t\t' for ' + messageData.iframe.id +\n\t\t\t\t\t'. Message was: ' + event.data +\n\t\t\t\t\t'. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction isMessageForUs(){\n\t\t\treturn msgId === (('' + msg).substr(0,msgIdLen)) && (msg.substr(msgIdLen).split(':')[0] in settings); //''+Protects against non-string msg\n\t\t}\n\n\t\tfunction isMessageFromMetaParent(){\n\t\t\t//Test if this message is from a parent above us. This is an ugly test, however, updating\n\t\t\t//the message format would break backwards compatibity.\n\t\t\tvar retCode = messageData.type in {'true':1,'false':1,'undefined':1};\n\n\t\t\tif (retCode){\n\t\t\t\tlog(iframeId,'Ignoring init message from meta parent page');\n\t\t\t}\n\n\t\t\treturn retCode;\n\t\t}\n\n\t\tfunction getMsgBody(offset){\n\t\t\treturn msg.substr(msg.indexOf(':')+msgHeaderLen+offset);\n\t\t}\n\n\t\tfunction forwardMsgFromIFrame(msgBody){\n\t\t\tlog(iframeId,'MessageCallback passed: {iframe: '+ messageData.iframe.id + ', message: ' + msgBody + '}');\n\t\t\tcallback('messageCallback',{\n\t\t\t\tiframe: messageData.iframe,\n\t\t\t\tmessage: JSON.parse(msgBody)\n\t\t\t});\n\t\t\tlog(iframeId,'--');\n\t\t}\n\n\t\tfunction getPageInfo(){\n\t\t\tvar\n\t\t\t\tbodyPosition   = document.body.getBoundingClientRect(),\n\t\t\t\tiFramePosition = messageData.iframe.getBoundingClientRect();\n\n\t\t\treturn JSON.stringify({\n\t\t\t\tiframeHeight: iFramePosition.height,\n\t\t\t\tiframeWidth:  iFramePosition.width,\n\t\t\t\tclientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\n\t\t\t\tclientWidth:  Math.max(document.documentElement.clientWidth,  window.innerWidth  || 0),\n\t\t\t\toffsetTop:    parseInt(iFramePosition.top  - bodyPosition.top,  10),\n\t\t\t\toffsetLeft:   parseInt(iFramePosition.left - bodyPosition.left, 10),\n\t\t\t\tscrollTop:    window.pageYOffset,\n\t\t\t\tscrollLeft:   window.pageXOffset\n\t\t\t});\n\t\t}\n\n\t\tfunction sendPageInfoToIframe(iframe,iframeId){\n\t\t\tfunction debouncedTrigger(){\n\t\t\t\ttrigger(\n\t\t\t\t\t'Send Page Info',\n\t\t\t\t\t'pageInfo:' + getPageInfo(),\n\t\t\t\t\tiframe,\n\t\t\t\t\tiframeId\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tdebouce(debouncedTrigger,32);\n\t\t}\n\n\n\t\tfunction startPageInfoMonitor(){\n\t\t\tfunction setListener(type,func){\n\t\t\t\tfunction sendPageInfo(){\n\t\t\t\t\tif (settings[id]){\n\t\t\t\t\t\tsendPageInfoToIframe(settings[id].iframe,id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstop();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t['scroll','resize'].forEach(function(evt){\n\t\t\t\t\tlog(id, type +  evt + ' listener for sendPageInfo');\n\t\t\t\t\tfunc(window,evt,sendPageInfo);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction stop(){\n\t\t\t\tsetListener('Remove ', removeEventListener);\n\t\t\t}\n\n\t\t\tfunction start(){\n\t\t\t\tsetListener('Add ', addEventListener);\n\t\t\t}\n\n\t\t\tvar id = iframeId; //Create locally scoped copy of iFrame ID\n\n\t\t\tstart();\n\n\t\t\tsettings[id].stopPageInfo = stop;\n\t\t}\n\n\t\tfunction stopPageInfoMonitor(){\n\t\t\tif (settings[iframeId] && settings[iframeId].stopPageInfo){\n\t\t\t\tsettings[iframeId].stopPageInfo();\n\t\t\t\tdelete settings[iframeId].stopPageInfo;\n\t\t\t}\n\t\t}\n\n\t\tfunction checkIFrameExists(){\n\t\t\tvar retBool = true;\n\n\t\t\tif (null === messageData.iframe) {\n\t\t\t\twarn(iframeId,'IFrame ('+messageData.id+') not found');\n\t\t\t\tretBool = false;\n\t\t\t}\n\t\t\treturn retBool;\n\t\t}\n\n\t\tfunction getElementPosition(target){\n\t\t\tvar iFramePosition = target.getBoundingClientRect();\n\n\t\t\tgetPagePosition(iframeId);\n\n\t\t\treturn {\n\t\t\t\tx: Math.floor( Number(iFramePosition.left) + Number(pagePosition.x) ),\n\t\t\t\ty: Math.floor( Number(iFramePosition.top)  + Number(pagePosition.y) )\n\t\t\t};\n\t\t}\n\n\t\tfunction scrollRequestFromChild(addOffset){\n\t\t\t/* istanbul ignore next */  //Not testable in Karma\n\t\t\tfunction reposition(){\n\t\t\t\tpagePosition = newPosition;\n\t\t\t\tscrollTo();\n\t\t\t\tlog(iframeId,'--');\n\t\t\t}\n\n\t\t\tfunction calcOffset(){\n\t\t\t\treturn {\n\t\t\t\t\tx: Number(messageData.width) + offset.x,\n\t\t\t\t\ty: Number(messageData.height) + offset.y\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction scrollParent(){\n\t\t\t\tif (window.parentIFrame){\n\t\t\t\t\twindow.parentIFrame['scrollTo'+(addOffset?'Offset':'')](newPosition.x,newPosition.y);\n\t\t\t\t} else {\n\t\t\t\t\twarn(iframeId,'Unable to scroll to requested position, window.parentIFrame not found');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\n\t\t\t\toffset = addOffset ? getElementPosition(messageData.iframe) : {x:0,y:0},\n\t\t\t\tnewPosition = calcOffset();\n\n\t\t\tlog(iframeId,'Reposition requested from iFrame (offset x:'+offset.x+' y:'+offset.y+')');\n\n\t\t\tif(window.top !== window.self){\n\t\t\t\tscrollParent();\n\t\t\t} else {\n\t\t\t\treposition();\n\t\t\t}\n\t\t}\n\n\t\tfunction scrollTo(){\n\t\t\tif (false !== callback('scrollCallback',pagePosition)){\n\t\t\t\tsetPagePosition(iframeId);\n\t\t\t} else {\n\t\t\t\tunsetPagePosition();\n\t\t\t}\n\t\t}\n\n\t\tfunction findTarget(location){\n\t\t\tfunction jumpToTarget(){\n\t\t\t\tvar jumpPosition = getElementPosition(target);\n\n\t\t\t\tlog(iframeId,'Moving to in page link (#'+hash+') at x: '+jumpPosition.x+' y: '+jumpPosition.y);\n\t\t\t\tpagePosition = {\n\t\t\t\t\tx: jumpPosition.x,\n\t\t\t\t\ty: jumpPosition.y\n\t\t\t\t};\n\n\t\t\t\tscrollTo();\n\t\t\t\tlog(iframeId,'--');\n\t\t\t}\n\n\t\t\tfunction jumpToParent(){\n\t\t\t\tif (window.parentIFrame){\n\t\t\t\t\twindow.parentIFrame.moveToAnchor(hash);\n\t\t\t\t} else {\n\t\t\t\t\tlog(iframeId,'In page link #'+hash+' not found and window.parentIFrame not found');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\n\t\t\t\thash     = location.split('#')[1] || '',\n\t\t\t\thashData = decodeURIComponent(hash),\n\t\t\t\ttarget   = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n\t\t\tif (target){\n\t\t\t\tjumpToTarget();\n\t\t\t} else if(window.top!==window.self){\n\t\t\t\tjumpToParent();\n\t\t\t} else {\n\t\t\t\tlog(iframeId,'In page link #'+hash+' not found');\n\t\t\t}\n\t\t}\n\n\t\tfunction callback(funcName,val){\n\t\t\treturn chkCallback(iframeId,funcName,val);\n\t\t}\n\n\t\tfunction actionMsg(){\n\n\t\t\tif(settings[iframeId].firstRun) firstRun();\n\n\t\t\tswitch(messageData.type){\n\t\t\tcase 'close':\n\t\t\t\tcloseIFrame(messageData.iframe);\n\t\t\t\tbreak;\n\t\t\tcase 'message':\n\t\t\t\tforwardMsgFromIFrame(getMsgBody(6));\n\t\t\t\tbreak;\n\t\t\tcase 'scrollTo':\n\t\t\t\tscrollRequestFromChild(false);\n\t\t\t\tbreak;\n\t\t\tcase 'scrollToOffset':\n\t\t\t\tscrollRequestFromChild(true);\n\t\t\t\tbreak;\n\t\t\tcase 'pageInfo':\n\t\t\t\tsendPageInfoToIframe(settings[iframeId].iframe,iframeId);\n\t\t\t\tstartPageInfoMonitor();\n\t\t\t\tbreak;\n\t\t\tcase 'pageInfoStop':\n\t\t\t\tstopPageInfoMonitor();\n\t\t\t\tbreak;\n\t\t\tcase 'inPageLink':\n\t\t\t\tfindTarget(getMsgBody(9));\n\t\t\t\tbreak;\n\t\t\tcase 'reset':\n\t\t\t\tresetIFrame(messageData);\n\t\t\t\tbreak;\n\t\t\tcase 'init':\n\t\t\t\tresizeIFrame();\n\t\t\t\tcallback('initCallback',messageData.iframe);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tresizeIFrame();\n\t\t\t}\n\t\t}\n\n\t\tfunction hasSettings(iframeId){\n\t\t\tvar retBool = true;\n\n\t\t\tif (!settings[iframeId]){\n\t\t\t\tretBool = false;\n\t\t\t\twarn(messageData.type + ' No settings for ' + iframeId + '. Message was: ' + msg);\n\t\t\t}\n\n\t\t\treturn retBool;\n\t\t}\n\n\t\tfunction iFrameReadyMsgReceived(){\n\t\t\tfor (var iframeId in settings){\n\t\t\t\ttrigger('iFrame requested init',createOutgoingMsg(iframeId),document.getElementById(iframeId),iframeId);\n\t\t\t}\n\t\t}\n\n\t\tfunction firstRun() {\n\t\t\tsettings[iframeId].firstRun = false;\n\t\t}\n\n\t\tfunction clearWarningTimeout() {\n\t\t\tclearTimeout(settings[iframeId].msgTimeout);\n\t\t\tsettings[iframeId].warningTimeout = 0;\n\t\t}\n\n\t\tvar\n\t\t\tmsg = event.data,\n\t\t\tmessageData = {},\n\t\t\tiframeId = null;\n\n\t\tif('[iFrameResizerChild]Ready' === msg){\n\t\t\tiFrameReadyMsgReceived();\n\t\t} else if (isMessageForUs()){\n\t\t\tmessageData = processMsg();\n\t\t\tiframeId    = logId = messageData.id;\n\t\t\tsettings[iframeId].loaded = true;\n\n\t\t\tif (!isMessageFromMetaParent() && hasSettings(iframeId)){\n\t\t\t\tlog(iframeId,'Received: '+msg);\n\n\t\t\t\tif ( checkIFrameExists() && isMessageFromIFrame() ){\n\t\t\t\t\tactionMsg();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tinfo(iframeId,'Ignored: '+msg);\n\t\t}\n\n\t}\n\n\n\tfunction chkCallback(iframeId,funcName,val){\n\t\tvar\n\t\t\tfunc = null,\n\t\t\tretVal = null;\n\n\t\tif(settings[iframeId]){\n\t\t\tfunc = settings[iframeId][funcName];\n\n\t\t\tif( 'function' === typeof func){\n\t\t\t\tretVal = func(val);\n\t\t\t} else {\n\t\t\t\tthrow new TypeError(funcName+' on iFrame['+iframeId+'] is not a function');\n\t\t\t}\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\tfunction closeIFrame(iframe){\n\t\tvar iframeId = iframe.id;\n\n\t\tlog(iframeId,'Removing iFrame: '+iframeId);\n\t\tif (iframe.parentNode) { iframe.parentNode.removeChild(iframe); }\n\t\tchkCallback(iframeId,'closedCallback',iframeId);\n\t\tlog(iframeId,'--');\n\t\tdelete settings[iframeId];\n\t}\n\n\tfunction getPagePosition(iframeId){\n\t\tif(null === pagePosition){\n\t\t\tpagePosition = {\n\t\t\t\tx: (window.pageXOffset !== undefined) ? window.pageXOffset : document.documentElement.scrollLeft,\n\t\t\t\ty: (window.pageYOffset !== undefined) ? window.pageYOffset : document.documentElement.scrollTop\n\t\t\t};\n\t\t\tlog(iframeId,'Get page position: '+pagePosition.x+','+pagePosition.y);\n\t\t}\n\t}\n\n\tfunction setPagePosition(iframeId){\n\t\tif(null !== pagePosition){\n\t\t\twindow.scrollTo(pagePosition.x,pagePosition.y);\n\t\t\tlog(iframeId,'Set page position: '+pagePosition.x+','+pagePosition.y);\n\t\t\tunsetPagePosition();\n\t\t}\n\t}\n\n\tfunction unsetPagePosition(){\n\t\tpagePosition = null;\n\t}\n\n\tfunction resetIFrame(messageData){\n\t\tfunction reset(){\n\t\t\tsetSize(messageData);\n\t\t\ttrigger('reset','reset',messageData.iframe,messageData.id);\n\t\t}\n\n\t\tlog(messageData.id,'Size reset requested by '+('init'===messageData.type?'host page':'iFrame'));\n\t\tgetPagePosition(messageData.id);\n\t\tsyncResize(reset,messageData,'reset');\n\t}\n\n\tfunction setSize(messageData){\n\t\tfunction setDimension(dimension){\n\t\t\tmessageData.iframe.style[dimension] = messageData[dimension] + 'px';\n\t\t\tlog(\n\t\t\t\tmessageData.id,\n\t\t\t\t'IFrame (' + iframeId +\n\t\t\t\t') ' + dimension +\n\t\t\t\t' set to ' + messageData[dimension] + 'px'\n\t\t\t);\n\t\t}\n\n\t\tfunction chkZero(dimension){\n\t\t\t//FireFox sets dimension of hidden iFrames to zero.\n\t\t\t//So if we detect that set up an event to check for\n\t\t\t//when iFrame becomes visible.\n\n\t\t\t/* istanbul ignore next */  //Not testable in PhantomJS\n\t\t\tif (!hiddenCheckEnabled && '0' === messageData[dimension]){\n\t\t\t\thiddenCheckEnabled = true;\n\t\t\t\tlog(iframeId,'Hidden iFrame detected, creating visibility listener');\n\t\t\t\tfixHiddenIFrames();\n\t\t\t}\n\t\t}\n\n\t\tfunction processDimension(dimension){\n\t\t\tsetDimension(dimension);\n\t\t\tchkZero(dimension);\n\t\t}\n\n\t\tvar iframeId = messageData.iframe.id;\n\n\t\tif(settings[iframeId]){\n\t\t\tif( settings[iframeId].sizeHeight) { processDimension('height'); }\n\t\t\tif( settings[iframeId].sizeWidth ) { processDimension('width'); }\n\t\t}\n\t}\n\n\tfunction syncResize(func,messageData,doNotSync){\n\t\t/* istanbul ignore if */  //Not testable in PhantomJS\n\t\tif(doNotSync!==messageData.type && requestAnimationFrame){\n\t\t\tlog(messageData.id,'Requesting animation frame');\n\t\t\trequestAnimationFrame(func);\n\t\t} else {\n\t\t\tfunc();\n\t\t}\n\t}\n\n\tfunction trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n\t\tfunction postMessageToIFrame(){\n\t\t\tvar target = settings[id].targetOrigin;\n\t\t\tlog(id,'[' + calleeMsg + '] Sending msg to iframe['+id+'] ('+msg+') targetOrigin: '+target);\n\t\t\tiframe.contentWindow.postMessage( msgId + msg, target );\n\t\t}\n\n\t\tfunction iFrameNotFound(){\n\t\t\twarn(id,'[' + calleeMsg + '] IFrame('+id+') not found');\n\t\t}\n\n\t\tfunction chkAndSend(){\n\t\t\tif(iframe && 'contentWindow' in iframe && (null !== iframe.contentWindow)){ //Null test for PhantomJS\n\t\t\t\tpostMessageToIFrame();\n\t\t\t} else {\n\t\t\t\tiFrameNotFound();\n\t\t\t}\n\t\t}\n\n\t\tfunction warnOnNoResponse() {\n\t\t\tfunction warning() {\n\t\t\t\tif (settings[id] && !settings[id].loaded && !errorShown) {\n\t\t\t\t\terrorShown = true;\n\t\t\t\t\twarn(id, 'IFrame has not responded within '+ settings[id].warningTimeout/1000 +' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!!noResponseWarning && !!settings[id].warningTimeout) {\n\t\t\t\tsettings[id].msgTimeout = setTimeout(warning, settings[id].warningTimeout);\n\t\t\t}\n\t\t}\n\n\t\tvar errorShown = false;\n\n\t\tid = id || iframe.id;\n\n\t\tif(settings[id]) {\n\t\t\tchkAndSend();\n\t\t\twarnOnNoResponse();\n\t\t}\n\n\t}\n\n\tfunction createOutgoingMsg(iframeId){\n\t\treturn iframeId +\n\t\t\t':' + settings[iframeId].bodyMarginV1 +\n\t\t\t':' + settings[iframeId].sizeWidth +\n\t\t\t':' + settings[iframeId].log +\n\t\t\t':' + settings[iframeId].interval +\n\t\t\t':' + settings[iframeId].enablePublicMethods +\n\t\t\t':' + settings[iframeId].autoResize +\n\t\t\t':' + settings[iframeId].bodyMargin +\n\t\t\t':' + settings[iframeId].heightCalculationMethod +\n\t\t\t':' + settings[iframeId].bodyBackground +\n\t\t\t':' + settings[iframeId].bodyPadding +\n\t\t\t':' + settings[iframeId].tolerance +\n\t\t\t':' + settings[iframeId].inPageLinks +\n\t\t\t':' + settings[iframeId].resizeFrom +\n\t\t\t':' + settings[iframeId].widthCalculationMethod;\n\t}\n\n\tfunction setupIFrame(iframe,options){\n\t\tfunction setLimits(){\n\t\t\tfunction addStyle(style){\n\t\t\t\tif ((Infinity !== settings[iframeId][style]) && (0 !== settings[iframeId][style])){\n\t\t\t\t\tiframe.style[style] = settings[iframeId][style] + 'px';\n\t\t\t\t\tlog(iframeId,'Set '+style+' = '+settings[iframeId][style]+'px');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction chkMinMax(dimension){\n\t\t\t\tif (settings[iframeId]['min'+dimension]>settings[iframeId]['max'+dimension]){\n\t\t\t\t\tthrow new Error('Value for min'+dimension+' can not be greater than max'+dimension);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tchkMinMax('Height');\n\t\t\tchkMinMax('Width');\n\n\t\t\taddStyle('maxHeight');\n\t\t\taddStyle('minHeight');\n\t\t\taddStyle('maxWidth');\n\t\t\taddStyle('minWidth');\n\t\t}\n\n\t\tfunction newId(){\n\t\t\tvar id = ((options && options.id) || defaults.id + count++);\n\t\t\tif  (null !== document.getElementById(id)){\n\t\t\t\tid = id + count++;\n\t\t\t}\n\t\t\treturn id;\n\t\t}\n\n\t\tfunction ensureHasId(iframeId){\n\t\t\tlogId=iframeId;\n\t\t\tif (''===iframeId){\n\t\t\t\tiframe.id = iframeId =  newId();\n\t\t\t\tlogEnabled = (options || {}).log;\n\t\t\t\tlogId=iframeId;\n\t\t\t\tlog(iframeId,'Added missing iframe ID: '+ iframeId +' (' + iframe.src + ')');\n\t\t\t}\n\n\n\t\t\treturn iframeId;\n\t\t}\n\n\t\tfunction setScrolling(){\n\t\t\tlog(iframeId,'IFrame scrolling ' + (settings[iframeId].scrolling ? 'enabled' : 'disabled') + ' for ' + iframeId);\n\t\t\tiframe.style.overflow = false === settings[iframeId].scrolling ? 'hidden' : 'auto';\n\t\t\tswitch(settings[iframeId].scrolling) {\n\t\t\t\tcase true:\n\t\t\t\t\tiframe.scrolling = 'yes';\n\t\t\t\t\tbreak;\n\t\t\t\tcase false:\n\t\t\t\t\tiframe.scrolling = 'no';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tiframe.scrolling = settings[iframeId].scrolling;\n\t\t\t}\n\t\t}\n\n\t\t//The V1 iFrame script expects an int, where as in V2 expects a CSS\n\t\t//string value such as '1px 3em', so if we have an int for V2, set V1=V2\n\t\t//and then convert V2 to a string PX value.\n\t\tfunction setupBodyMarginValues(){\n\t\t\tif (('number'===typeof(settings[iframeId].bodyMargin)) || ('0'===settings[iframeId].bodyMargin)){\n\t\t\t\tsettings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;\n\t\t\t\tsettings[iframeId].bodyMargin   = '' + settings[iframeId].bodyMargin + 'px';\n\t\t\t}\n\t\t}\n\n\t\tfunction checkReset(){\n\t\t\t// Reduce scope of firstRun to function, because IE8's JS execution\n\t\t\t// context stack is borked and this value gets externally\n\t\t\t// changed midway through running this function!!!\n\t\t\tvar\n\t\t\t\tfirstRun           = settings[iframeId].firstRun,\n\t\t\t\tresetRequertMethod = settings[iframeId].heightCalculationMethod in resetRequiredMethods;\n\n\t\t\tif (!firstRun && resetRequertMethod){\n\t\t\t\tresetIFrame({iframe:iframe, height:0, width:0, type:'init'});\n\t\t\t}\n\t\t}\n\n\t\tfunction setupIFrameObject(){\n\t\t\tif(Function.prototype.bind){ //Ignore unpolyfilled IE8.\n\t\t\t\tsettings[iframeId].iframe.iFrameResizer = {\n\n\t\t\t\t\tclose        : closeIFrame.bind(null,settings[iframeId].iframe),\n\n\t\t\t\t\tresize       : trigger.bind(null,'Window resize', 'resize', settings[iframeId].iframe),\n\n\t\t\t\t\tmoveToAnchor : function(anchor){\n\t\t\t\t\t\ttrigger('Move to anchor','moveToAnchor:'+anchor, settings[iframeId].iframe,iframeId);\n\t\t\t\t\t},\n\n\t\t\t\t\tsendMessage  : function(message){\n\t\t\t\t\t\tmessage = JSON.stringify(message);\n\t\t\t\t\t\ttrigger('Send Message','message:'+message, settings[iframeId].iframe, iframeId);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t//We have to call trigger twice, as we can not be sure if all\n\t\t//iframes have completed loading when this code runs. The\n\t\t//event listener also catches the page changing in the iFrame.\n\t\tfunction init(msg){\n\t\t\tfunction iFrameLoaded(){\n\t\t\t\ttrigger('iFrame.onload', msg, iframe, undefined , true);\n\t\t\t\tcheckReset();\n\t\t\t}\n\n\t\t\taddEventListener(iframe,'load',iFrameLoaded);\n\t\t\ttrigger('init', msg, iframe, undefined, true);\n\t\t}\n\n\t\tfunction checkOptions(options){\n\t\t\tif ('object' !== typeof options){\n\t\t\t\tthrow new TypeError('Options is not an object');\n\t\t\t}\n\t\t}\n\n\t\tfunction copyOptions(options){\n\t\t\tfor (var option in defaults) {\n\t\t\t\tif (defaults.hasOwnProperty(option)){\n\t\t\t\t\tsettings[iframeId][option] = options.hasOwnProperty(option) ? options[option] : defaults[option];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction getTargetOrigin (remoteHost){\n\t\t\treturn ('' === remoteHost || 'file://' === remoteHost) ? '*' : remoteHost;\n\t\t}\n\n\t\tfunction processOptions(options){\n\t\t\toptions = options || {};\n\t\t\tsettings[iframeId] = {\n\t\t\t\tfirstRun\t: true,\n\t\t\t\tiframe\t\t: iframe,\n\t\t\t\tremoteHost\t: iframe.src.split('/').slice(0,3).join('/')\n\t\t\t};\n\n\t\t\tcheckOptions(options);\n\t\t\tcopyOptions(options);\n\n\t\t\tsettings[iframeId].targetOrigin = true === settings[iframeId].checkOrigin ? getTargetOrigin(settings[iframeId].remoteHost) : '*';\n\t\t}\n\n\t\tfunction beenHere(){\n\t\t\treturn (iframeId in settings && 'iFrameResizer' in iframe);\n\t\t}\n\n\t\tvar iframeId = ensureHasId(iframe.id);\n\n\t\tif (!beenHere()){\n\t\t\tprocessOptions(options);\n\t\t\tsetScrolling();\n\t\t\tsetLimits();\n\t\t\tsetupBodyMarginValues();\n\t\t\tinit(createOutgoingMsg(iframeId));\n\t\t\tsetupIFrameObject();\n\t\t} else {\n\t\t\twarn(iframeId,'Ignored iFrame, already setup.');\n\t\t}\n\t}\n\n\tfunction debouce(fn,time){\n\t\tif (null === timer){\n\t\t\ttimer = setTimeout(function(){\n\t\t\t\ttimer = null;\n\t\t\t\tfn();\n\t\t\t}, time);\n\t\t}\n\t}\n\n\t/* istanbul ignore next */  //Not testable in PhantomJS\n\tfunction fixHiddenIFrames(){\n\t\tfunction checkIFrames(){\n\t\t\tfunction checkIFrame(settingId){\n\t\t\t\tfunction chkDimension(dimension){\n\t\t\t\t\treturn '0px' === settings[settingId].iframe.style[dimension];\n\t\t\t\t}\n\n\t\t\t\tfunction isVisible(el) {\n\t\t\t\t\treturn (null !== el.offsetParent);\n\t\t\t\t}\n\n\t\t\t\tif (isVisible(settings[settingId].iframe) && (chkDimension('height') || chkDimension('width'))){\n\t\t\t\t\ttrigger('Visibility change', 'resize', settings[settingId].iframe, settingId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var settingId in settings){\n\t\t\t\tcheckIFrame(settingId);\n\t\t\t}\n\t\t}\n\n\t\tfunction mutationObserved(mutations){\n\t\t\tlog('window','Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type);\n\t\t\tdebouce(checkIFrames,16);\n\t\t}\n\n\t\tfunction createMutationObserver(){\n\t\t\tvar\n\t\t\t\ttarget = document.querySelector('body'),\n\n\t\t\t\tconfig = {\n\t\t\t\t\tattributes            : true,\n\t\t\t\t\tattributeOldValue     : false,\n\t\t\t\t\tcharacterData         : true,\n\t\t\t\t\tcharacterDataOldValue : false,\n\t\t\t\t\tchildList             : true,\n\t\t\t\t\tsubtree               : true\n\t\t\t\t},\n\n\t\t\t\tobserver = new MutationObserver(mutationObserved);\n\n\t\t\tobserver.observe(target, config);\n\t\t}\n\n\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n\n\t\tif (MutationObserver) createMutationObserver();\n\t}\n\n\n\tfunction resizeIFrames(event){\n\t\tfunction resize(){\n\t\t\tsendTriggerMsg('Window '+event,'resize');\n\t\t}\n\n\t\tlog('window','Trigger event: '+event);\n\t\tdebouce(resize,16);\n\t}\n\n\t/* istanbul ignore next */  //Not testable in PhantomJS\n\tfunction tabVisible() {\n\t\tfunction resize(){\n\t\t\tsendTriggerMsg('Tab Visable','resize');\n\t\t}\n\n\t\tif('hidden' !== document.visibilityState) {\n\t\t\tlog('document','Trigger event: Visiblity change');\n\t\t\tdebouce(resize,16);\n\t\t}\n\t}\n\n\tfunction sendTriggerMsg(eventName,event){\n\t\tfunction isIFrameResizeEnabled(iframeId) {\n\t\t\treturn\t'parent' === settings[iframeId].resizeFrom &&\n\t\t\t\t\tsettings[iframeId].autoResize &&\n\t\t\t\t\t!settings[iframeId].firstRun;\n\t\t}\n\n\t\tfor (var iframeId in settings){\n\t\t\tif(isIFrameResizeEnabled(iframeId)){\n\t\t\t\ttrigger(eventName, event, document.getElementById(iframeId), iframeId);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setupEventListeners(){\n\t\taddEventListener(window,'message',iFrameListener);\n\n\t\taddEventListener(window,'resize', function(){resizeIFrames('resize');});\n\n\t\taddEventListener(document,'visibilitychange',tabVisible);\n\t\taddEventListener(document,'-webkit-visibilitychange',tabVisible); //Andriod 4.4\n\t\taddEventListener(window,'focusin',function(){resizeIFrames('focus');}); //IE8-9\n\t\taddEventListener(window,'focus',function(){resizeIFrames('focus');});\n\t}\n\n\n\tfunction factory(){\n\t\tfunction init(options,element){\n\t\t\tfunction chkType(){\n\t\t\t\tif(!element.tagName) {\n\t\t\t\t\tthrow new TypeError('Object is not a valid DOM element');\n\t\t\t\t} else if ('IFRAME' !== element.tagName.toUpperCase()) {\n\t\t\t\t\tthrow new TypeError('Expected <IFRAME> tag, found <'+element.tagName+'>');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(element) {\n\t\t\t\tchkType();\n\t\t\t\tsetupIFrame(element, options);\n\t\t\t\tiFrames.push(element);\n\t\t\t}\n\t\t}\n\n\t\tfunction warnDeprecatedOptions(options) {\n\t\t\tif (options && options.enablePublicMethods) {\n\t\t\t\twarn('enablePublicMethods option has been removed, public methods are now always available in the iFrame');\n\t\t\t}\n\t\t}\n\n\t\tvar iFrames;\n\n\t\tsetupRequestAnimationFrame();\n\t\tsetupEventListeners();\n\n\t\treturn function iFrameResizeF(options,target){\n\t\t\tiFrames = []; //Only return iFrames past in on this call\n\n\t\t\twarnDeprecatedOptions(options);\n\n\t\t\tswitch (typeof(target)){\n\t\t\tcase 'undefined':\n\t\t\tcase 'string':\n\t\t\t\tArray.prototype.forEach.call(\n\t\t\t\t\tdocument.querySelectorAll( target || 'iframe' ),\n\t\t\t\t\tinit.bind(undefined, options)\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'object':\n\t\t\t\tinit(options,target);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new TypeError('Unexpected data type ('+typeof(target)+')');\n\t\t\t}\n\n\t\t\treturn iFrames;\n\t\t};\n\t}\n\n\tfunction createJQueryPublicMethod($){\n\t\tif (!$.fn) {\n\t\t\tinfo('','Unable to bind to jQuery, it is not fully loaded.');\n\t\t} else if (!$.fn.iFrameResize){\n\t\t\t$.fn.iFrameResize = function $iFrameResizeF(options) {\n\t\t\t\tfunction init(index, element) {\n\t\t\t\t\tsetupIFrame(element, options);\n\t\t\t\t}\n\n\t\t\t\treturn this.filter('iframe').each(init).end();\n\t\t\t};\n\t\t}\n\t}\n\n\tif (window.jQuery) { createJQueryPublicMethod(window.jQuery); }\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine([],factory);\n\t} else if (typeof module === 'object' && typeof module.exports === 'object') { //Node for browserfy\n\t\tmodule.exports = factory();\n\t} else {\n\t\twindow.iFrameResize = window.iFrameResize || factory();\n\t}\n\n})();\n"]}