jQuery(function(n){n.each(n(".extension_license a"),function(e,a){n(a).click(function(){var t=n(a).closest(".extension_license"),i="inactive"==n(t).find("#status").val()?"activate":"deactivate";n(t).find(".dlm_license_error").remove(),n.post(ajaxurl,{action:"dlm_extension",nonce:n("#dlm-ajax-nonce").val(),product_id:n(t).find("#product_id").val(),key:n(t).find("#key").val(),email:n(t).find("#email").val(),extension_action:i},function(e){"failed"==e.result?n(t).prepend(n("<div>").addClass("dlm_license_error").html(e.message)):"activate"==i?(n(t).find(".license-status").addClass("active").html("ACTIVE"),n(t).find(".button").html("Deactivate"),n(t).find("#status").val("active"),n(t).find("#key").attr("disabled",!0),n(t).find("#email").attr("disabled",!0)):(n(t).find(".license-status").removeClass("active").html("INACTIVE"),n(t).find(".button").html("Activate"),n(t).find("#status").val("inactive"),n(t).find("#key").attr("disabled",!1),n(t).find("#email").attr("disabled",!1))})})})});